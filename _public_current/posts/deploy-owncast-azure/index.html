<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/bootstrap-icons-1.5.0/bootstrap-icons.css"><link rel="stylesheet" href="/css/highlight.github-dark-dimmed.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/customthemes.css"><meta property="og:title" content="Deploy your own Owncast server - Luis Quintanilla"><meta property="og:type" content="website"><meta property="og:image" content="https://www.luisquintanilla.me/avatar.png"><meta property="og:image:secure_url" content="https://www.luisquintanilla.me/avatar.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="200"><meta property="og:image:height" content="200"><meta property="og:site_name" content="Luis Quintanilla Personal Website"><meta property="og:locale" content="en_US"><meta property="twitter:image" content="https://www.luisquintanilla.me/avatar.png"><meta property="fediverse:creator" content="@lqdev@toot.lqdev.tech"><link rel="alternate" type="application/rss+xml" title="Luis Quintanilla Blog RSS Feed" href="/blog.rss"><link rel="alternate" type="application/rss+xml" title="Luis Quintanilla Microblog RSS Feed" href="/microblog.rss"><link rel="alternate" type="application/rss+xml" title="Luis Quintanilla Response RSS Feed" href="/responses.rss"><link rel="webmention" title="Luis Quintanilla Webmention Endpoint" href="https://webmentions.lqdev.tech/api/inbox"><link rel="feeds" type="text/xml" title="Luis Quintanilla&#39;s Feeds" href="/feed/index.opml"><link rel="blogroll" type="text/xml" title="Luis Quintanilla&#39;s Blogroll" href="/feed/blogroll/index.opml"><link rel="podroll" type="text/xml" title="Luis Quintanilla&#39;s Podroll" href="/feed/podroll/index.opml"><link rel="youtuberoll" type="text/xml" title="Luis Quintanilla&#39;s YouTube Roll" href="/feed/youtube/index.opml"><meta name="robots" content="nosnippet"><title>Deploy your own Owncast server - Luis Quintanilla</title></head><body><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark"><a class="navbar-brand" href="/"><img src="/avatar.png" height="32" width="32" class="d-inline-block align-top rounded-circle" style="margin-right:5px" loading="lazy">Luis Quintanilla</a><button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarCollapse"><ul class="navbar-nav mr-auto"><li class="nav-item active"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="aboutDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About</a><div class="dropdown-menu" aria-labelledby="aboutDropdown"><a class="dropdown-item" href="/about">Profile</a><a class="dropdown-item" href="/contact">Contact</a><a class="dropdown-item" href="/uses">Uses</a><a class="dropdown-item" href="/colophon">Colophon</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="feedDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Feeds</a><div class="dropdown-menu" aria-labelledby="feedDropdown"><a class="dropdown-item" href="/feed">Main</a><a class="dropdown-item" href="/feed/responses">Responses</a><a class="dropdown-item" href="/posts/1">Blog</a><div class="dropdown-divider"></div><a class="dropdown-item" href="/subscribe">Subscribe</a><div class="dropdown-divider"></div><a class="dropdown-item" href="/feed/starter">Starter Packs</a><div class="dropdown-divider"></div><a class="dropdown-item" href="/feed/blogroll">Blogroll</a><a class="dropdown-item" href="/feed/podroll">Podroll</a><a class="dropdown-item" href="/feed/forums">Forums</a><a class="dropdown-item" href="/feed/youtube">YouTube</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="collectionDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Collections</a><div class="dropdown-menu" aria-labelledby="collectionDropdown"><a class="dropdown-item" href="/radio">Radio</a><a class="dropdown-item" href="/library">Books</a><a class="dropdown-item" href="/tags">Tags</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="kbDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Knowledgebase</a><div class="dropdown-menu" aria-labelledby="kbDropdown"><a class="dropdown-item" href="/snippets">Snippets</a><a class="dropdown-item" href="/wiki">Wiki</a><a class="dropdown-item" href="/presentations">Presentations</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="liveDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Live</a><div class="dropdown-menu" aria-labelledby="liveDropdown"><a class="dropdown-item" href="/live">Stream</a><a class="dropdown-item" href="/streams">Recordings</a></div></li><li class="nav-item"><a class="nav-link" href="/events">Events</a></li></ul><a href="/subscribe"><svg class="bi bi-rss text-secondary" fill="currentColor" viewBox="0 0 16 16" height="32" width="32"><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"></path></svg></a></div></nav><main role="main" class="container"><div class="mr-auto"><h1>Deploy your own Owncast server</h1><p>I'm a fan of learning in public. One way I do that is writing these types of posts. Another is live-streaming. It's been about four years since the last time I streamed. You can check out some of those recordings on my <a href="/youtube">YouTube channel</a> if you're interested.</p>
<p>Lately, I've been wanting to get back into live-streaming, but like many parts of my digital presence, it's an area I want ownership over. That means, I don't want to use Twitch, YouTube, Kick, or any other streaming platform. I want to self-host my own livestream server.</p>
<p>For years, I've been following <a href="https://owncast.online/">Owncast</a>. I'm a big fan. Aside from being open-source and allowing me to self-host, it has <a href="https://owncast.online/docs/social/">Fediverse</a> and <a href="https://owncast.online/docs/chat/chat-authentication/#indieauth">IndieAuth</a> integrations.</p>
<p>Because I don't plan to monetize my streams, I want to make sure I keep my costs down. Owncast offers a container deployment option. That means, I can deploy my application to <a href="https://learn.microsoft.com/azure/container-apps/overview">Azure Container Apps</a> using a <a href="https://learn.microsoft.com/azure/container-apps/plans#consumption">consumption plan</a>. By doing so, I only pay for compute and networking when I'm streaming. The rest of the time, I can scale down the application to zero and I'm not charged for it.</p>
<p>In this post, I'll go over how to set up a self-hosted Owncast instance on Azure Container Apps and once deployed, how to configure it with <a href="https://obsproject.com/">OBS</a>.</p>
<h2>Deploy owncast server</h2>
<p>The deployment is fairly straightforward. You can use the <a href="https://learn.microsoft.com/azure/container-apps/vnet-custom?tabs=bash&amp;pivots=azure-portal">&quot;Provide a virtual network to an Azure Container Apps environment&quot;</a> tutorial. I'd recommend going through the portal if you don't want to install the Azure CLI or are not comfortable with the command line.</p>
<p>The few configurations that tutorial doesn't guide you through is setting up your container and ingress since those are application specific.</p>
<p>After you configure your environment and virtual network in the <em>Basics</em> tab, continue your setup using the steps below.</p>
<h3>Container</h3>
<p>To set up Owncast, you can use the <a href="https://hub.docker.com/r/owncast/owncast/tags">public docker image</a>.</p>
<p>When you get to the <em>Container</em> tab in the setup process, fill in the fields with the following values:</p>
<table class="table">
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>Enter a name for your container</td>
</tr>
<tr>
<td>Image source</td>
<td>Docker Hub or other registies</td>
</tr>
<tr>
<td>Image type</td>
<td>Public</td>
</tr>
<tr>
<td>Registry login server</td>
<td>docker.io</td>
</tr>
<tr>
<td>Image and tag</td>
<td>owncast/owncast:latest</td>
</tr>
<tr>
<td>Command override</td>
<td>You can leave this blank</td>
</tr>
<tr>
<td>Arguments override</td>
<td>You can leave this blank</td>
</tr>
<tr>
<td>Deployment stack</td>
<td>Generic</td>
</tr>
<tr>
<td>Workload profile</td>
<td>Consumption</td>
</tr>
<tr>
<td>CPU and Memory</td>
<td>2 CPU Cores, 4Gi Memory</td>
</tr>
</tbody>
</table>
<h3>Ingress</h3>
<p>By setting up ingress on your deployment, you'll expose the ports Owncast listens on.</p>
<p>The reason you need a virtual network is because Owncast listens on two ports:</p>
<ul>
<li><strong>8080</strong> - The web application and admin portal</li>
<li><strong>1935</strong> - The RMTP server used for streaming</li>
</ul>
<p>By default, Azure Container Apps only allows you to expose one port. For more details, see the <a href="https://learn.microsoft.com/azure/container-apps/ingress-overview#additional-tcp-ports">Azure Container Apps documentation</a>.</p>
<p>In the <em>Ingress</em> tab, check the box that says <strong>Enabled</strong>.</p>
<p>Then, fill in the fields with the following values:</p>
<table class="table">
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ingress traffic</td>
<td>Accepting traffic from anywhere</td>
</tr>
<tr>
<td>Ingress type</td>
<td>HTTP</td>
</tr>
<tr>
<td>Transport</td>
<td>Auto</td>
</tr>
<tr>
<td>Insecure connections</td>
<td>Leave unchecked</td>
</tr>
<tr>
<td>Target port</td>
<td>8080</td>
</tr>
<tr>
<td>Session affinity</td>
<td>Leave unchecked</td>
</tr>
</tbody>
</table>
<p>Expand the Additional TCP ports section and configure the RMTP port</p>
<table class="table">
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Target port</td>
<td>1935</td>
</tr>
<tr>
<td>Exposed port</td>
<td>1935</td>
</tr>
<tr>
<td>Ingress traffic</td>
<td>Accepting traffic from anywhere</td>
</tr>
</tbody>
</table>
<p>Once you've configured ingress, you can select on <strong>Review + create</strong>.</p>
<p>Review your configurations in the <em>Review + create</em> tab. If everything looks good, select <strong>Create</strong>.</p>
<h2><strong>IMPORTANT</strong> Change admin password</h2>
<p>Once your application deploys, make sure to change your admin password.</p>
<ol>
<li><p>In the portal, go to your container app resource and copy your application URL.</p>
<p><img src="/images/deploy-owncast-azure/portal-container-resource.png" class="img-fluid" alt="Screenshot of Azure Container Apps resource in Azure Portal highlighting Application URL" /></p>
<p>Make sure to keek your application URL around since you'll also be using it when configuring OBS.</p>
</li>
<li><p>Access the admin portal at the following URL - <code>&lt;YOUR-APPLICATION-URL&gt;/admin</code>. Replace <code>&lt;YOUR-APPLICATION-URL&gt;</code> with your application URL.</p>
</li>
<li><p>Log in with the default credentials.</p>
</li>
</ol>
<p>| Field | Value |
| Username | admin |
| Password | abc123 |</p>
<ol>
<li>In the Owncast admin portal, select <strong>Configuration &gt; Server Setup</strong></li>
<li>Change your admin password.</li>
</ol>
<p>For more details, see the <a href="https://owncast.online/docs/configuration/">Owncast documentation</a>.</p>
<h2>Create stream key</h2>
<p>Once you've changed your admin password, create a stream key. This will enable you to log into your server through OBS and begin streaming.</p>
<ol>
<li>In the Owncast admin portal, select <strong>Configuration &gt; Server Setup</strong></li>
<li>Select the <strong>Stream Keys</strong> tab.</li>
<li>Copy the default stream key or create a new one.</li>
</ol>
<h2>Configure OBS</h2>
<p>Now that everything is configured, it's time to set up OBS.</p>
<p>To do so, <a href="https://owncast.online/docs/broadcasting/obs/">follow the guidance in the Owncast documentattion</a>.</p>
<p>Replace the server address with your application URL and use the stream key you copied or created. Note that the protocol is not <code>http</code> or <code>https</code>. <strong>Use <code>rmtp</code></strong>.</p>
<p>That's it! If everything is configured correctly, you should be able to select <strong>Start Streaming</strong> in OBS.</p>
<p>Go to your Owncast instance using your application URL and in a few seconds, your broadcast should start.</p>
<h2>Conclusion</h2>
<p>I want to end by thanking the Owncast contributors and community for making self-hosting a live-streaming server so easy.</p>
<p>My plan in the next couple of weeks is to:</p>
<ol>
<li>Embed my stream on my website. Most likely, I'll make it a dedicated page. Something like <code>lqdev.me/live</code> or something like that.</li>
<li>Do a few pilot streams to make sure my stream quality and configurations are all set up correctly.</li>
<li>Evaluate what the costs are for this solution and whethere it's sustainable.</li>
</ol>
<p>If all goes as expected, I'll start streaming more regularly. As mentioned, I want to keep my costs down and video hosting is expensive, so I'll use YouTube to post recordings. I'll also keep backups though in case any of those videos get taken down, I can always have a local copy still available.</p>
<hr /><div><script type="application/javascript">window.onload = function() { document.getElementById('webmention-target').value = window.location.href }</script><form action="https://webmentions.lqdev.tech/api/inbox" method="POST" enctype="application/x-www-form-urlencoded"><h5 class="text-center">Send me a <a href="/contact">message</a> or <a href="https://indieweb.org/webmentions">webmention</a></h5><div class="form-row justify-content-center"><div class="w-75"><input type="text" name="source" class="form-control" placeholder="Your URL (source)" /></div><div class="col-auto"><input type="submit" class="btn btn-primary" value="Send" /></div><input readonly class="form-control-plaintext" style="visibility:hidden" type="text" id="webmention-target" name="target" /></div></form></div></div></main><script src="/lib/jquery/jquery.slim.min.js"></script><script src="/lib/boostrap/bootstrap.min.js"></script><script src="/lib/highlight/highlight.min.js"></script><script src="/lib/highlight/highlight.fsharp.min.js"></script><script src="/lib/highlight/highlight.nix.min.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script type="application/javascript">mermaid.initialize({startOnLoad:true});</script><script type="application/javascript">hljs.initHighlightingOnLoad();</script></body><footer><a rel="me" href="https://toot.lqdev.tech/@lqdev"></a><a rel="me" href="https://github.com/lqdev"></a><a rel="me" href="https://twitter.com/ljquintanilla"></a><a rel="me" href="https://www.linkedin.com/in/lquintanilla01/"></a><a rel="me" href="mailto:lqdev@outlook.com"></a></footer></html>