<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>Luis Quintanilla - waydroid</title>
    <link>https://www.lqdev.me/tags/waydroid</link>
    <description>All content tagged with 'waydroid' by Luis Quintanilla</description>
    <lastBuildDate>10/05/2023 22:25 -05:00</lastBuildDate>
    <language>en</language>
    <item>
      <title>Running Waydroid on NixOS using X11</title>
      <description>&lt;![CDATA[&lt;h2&gt;Overview&lt;/h2&gt;
&lt;h2&gt;Packages&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://search.nixos.org/packages?channel=23.05&amp;amp;show=weston&amp;amp;from=0&amp;amp;size=50&amp;amp;sort=relevance&amp;amp;type=packages&amp;amp;query=weston"&gt;weston&lt;/a&gt; - Wayland compositor&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;NixOS Configuration&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-nix"&gt;virtualisation = {
    waydroid = {
        enable = true;
    };
};

environment.systemPackages = with pkgs; [weston];
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Initialize Waydroid&lt;/h3&gt;
&lt;p&gt;This downloads the LineageOS image and installs it&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;# Fetch WayDroid images.
# You can add the parameters &amp;quot;-s GAPPS -f&amp;quot; to have GApps support.
sudo waydroid init
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Start Waydroid&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Open the terminal and start the waydroid container&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo systemctl start waydroid-container
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check status of container&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo journalctl -u waydroid-container
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Open terminal and start weston&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;weston
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the weston window, open a terminal and start Waydroid sesson in the background&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;waydroid session start &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Start the UI&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;waydroid show-full-ui
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Stop Waydroid&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Close weston window&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stop waydroid container&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo systemctl stop waydroid-container
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Remove user data&lt;/h4&gt;
&lt;p&gt;Only do this if you don't want to persist anything from that container&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;# Removing images and user data
sudo rm -r /var/lib/waydroid/* ~/.local/share/waydroid
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Update Android&lt;/h3&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo waydroid upgrade
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;General Usage&lt;/h3&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;# Start Android UI
waydroid show-full-ui

# List Android apps
waydroid app list

# Start an Android app
waydroid app launch &amp;lt;application name&amp;gt;

# Install an Android app
waydroid app install &amp;lt;/path/to/app.apk&amp;gt;

# Enter the LXC shell
sudo waydroid shell

# Overrides the full-ui width
waydroid prop set persist.waydroid.width 608
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://nixos.wiki/wiki/WayDroid"&gt;NixOS Wiki - WayDroid&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://unix.stackexchange.com/questions/732485/script-to-start-android-lineageos-with-waydroid-in-an-x11-session"&gt;Script to start LineageOS on X11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/waydroid/waydroid/issues/195#issuecomment-953926526"&gt;Any plan to support X11?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/resources/wiki/waydroid-nixos-x11</link>
      <guid>https://www.lqdev.me/resources/wiki/waydroid-nixos-x11</guid>
      <pubDate>10/05/2023 22:25 -05:00</pubDate>
      <category>android</category>
      <category>linux</category>
      <category>nixos</category>
      <category>x11</category>
      <category>waydroid</category>
    </item>
  </channel>
</rss>