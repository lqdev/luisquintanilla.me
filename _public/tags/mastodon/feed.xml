<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>Luis Quintanilla - mastodon</title>
    <link>https://www.lqdev.me/tags/mastodon</link>
    <description>All content tagged with 'mastodon' by Luis Quintanilla</description>
    <lastBuildDate>2025-09-12 19:51 -05:00</lastBuildDate>
    <language>en</language>
    <item>
      <title>Mastodon Launching Quote Posts</title>
      <description>&lt;![CDATA[[reshare] &lt;blockquote class="blockquote"&gt;
&lt;p&gt;Starting next week, you‚Äôll see an option to quote another user by selecting the repost ‚Äî or ‚Äúboost‚Äù ‚Äî button, allowing you to add your thoughts to someone else‚Äôs post.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;Mastodon is bringing quote posts to mastodon.online and mastodon.social first, but will roll out the feature more broadly with the Mastodon 4.5 update.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote class="blockquote"&gt;
&lt;p&gt;It also worked on a technical &lt;a href="https://codeberg.org/fediverse/fep/src/branch/main/fep/044f/fep-044f.md"&gt;specification&lt;/a&gt; for quote posting in the fediverse and hopes that other platforms will adopt it.&lt;/p&gt;
&lt;/blockquote&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/responses/masdoton-launches-quote-posts</link>
      <guid>https://www.lqdev.me/responses/masdoton-launches-quote-posts</guid>
      <pubDate>2025-09-12 19:51 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>socialweb</category>
    </item>
    <item>
      <title>Using my domain for discovery in Mastodon</title>
      <description>&lt;![CDATA[&lt;p&gt;For a while, I've known that I can use my domain and the WebFinger protocol to aid with discovery in the Fediverse, specifically Mastodon.&lt;/p&gt;
&lt;p&gt;I tried implementing this feature on my website a while back but was unsuccessful.&lt;/p&gt;
&lt;p&gt;Last night, I got an itch to try it again and got it working.&lt;/p&gt;
&lt;p&gt;Basically, what I was doing wrong the first time was, I was trying to use &lt;code&gt;lqdev.me&lt;/code&gt; as the domain. Currently, my domain is not set up to use apex / naked domains. Therefore, it makes sense why that didn't work.&lt;/p&gt;
&lt;p&gt;Once I used &lt;code&gt;www.lqdev.me&lt;/code&gt;, everything seemed to be working fine. The implementation isn't perfect, because technically you can use any username. &lt;a href="https://www.hanselman.com/blog/use-your-own-user-domain-for-mastodon-discoverability-with-the-webfinger-protocol-without-hosting-a-server"&gt;Scott Hanselman does a nice job explaining that&lt;/a&gt;. The important part though is that &lt;a href="https://www.lqdev.me/notes/now-on-bluesky"&gt;my persence on the Fediverse is now directly linked to my domain, just like it is with Bluesky&lt;/a&gt;. This goes beyond the link verification Mastodon provides. As a result, it provides more flexibility and opportunities to shape my presence on the Fediverse.&lt;/p&gt;
&lt;p&gt;If you're interested in implementing it for yourself, there's a ton of guides, but here's the one I used: &lt;a href="https://guide.toot.as/guide/use-your-own-domain/"&gt;Use your own user @ domain for Mastodon discoverability&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I don't like the &lt;code&gt;www&lt;/code&gt; subdomain. So far I've put up with it for a while but this might be the forcing function to finally getting the apex domain setup.&lt;/p&gt;
&lt;p&gt;In the meantime, you can search my account in Mastodon using &lt;code&gt;@lqdev@www.lqdev.me&lt;/code&gt;.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/using-domain-mastodon-discovery</link>
      <guid>https://www.lqdev.me/notes/using-domain-mastodon-discovery</guid>
      <pubDate>2024-11-19 09:35 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>indieweb</category>
      <category>openweb</category>
      <category>web</category>
      <category>smallweb</category>
      <category>cdn</category>
      <category>internet</category>
    </item>
    <item>
      <title>Mastodon instance now supports OpenGraph creator tag</title>
      <description>&lt;![CDATA[&lt;p&gt;In version 4.3, &lt;a href="https://blog.joinmastodon.org/2024/10/mastodon-4.3/#:%7E:text=Helping%20writers%20and%20journalists"&gt;Mastodon introduced OpenGraph creator tags&lt;/a&gt; to link to an author's Fediverse account from within a post.&lt;/p&gt;
&lt;p&gt;I had &lt;a href="https://www.lqdev.me/notes/added-fediverse-og-creator-tag"&gt;implemented it on my website&lt;/a&gt; a while back. However, because my instance wasn't using a version that supported it, it didn't show up on my instance.&lt;/p&gt;
&lt;p&gt;Since upgrading to 4.3.1, I can now see my posts making use of the creator tag feature.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://github.com/user-attachments/assets/c8be21fd-daa8-40ef-b923-fd6c302ab1f3" class="img-fluid" alt="Screenshot of Mastodon Post with Author Profile Link" /&gt;&lt;/p&gt;
&lt;p&gt;As you can see from the original post, implementing it was relatively trivial. Another win for open protocols and standards.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/mastodon-instance-supports-opengraph-creator-tag</link>
      <guid>https://www.lqdev.me/notes/mastodon-instance-supports-opengraph-creator-tag</guid>
      <pubDate>2024-11-19 09:25 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>opengraph</category>
      <category>protocols</category>
      <category>indieweb</category>
    </item>
    <item>
      <title>Mastodon instance working again</title>
      <description>&lt;![CDATA[&lt;p&gt;After about a month of not being able to access my Mastodon instance, I'm so excited to have it working again!&lt;/p&gt;
&lt;p&gt;Not sure what I did wrong with my upgrade to 4.3.0. Fortunately, the issues appears to have been on the frontend and the fix wasn't too involved.&lt;/p&gt;
&lt;p&gt;Upgrading to the latest 4.3.1 fixed the issue I ran into during my last upgrade.&lt;/p&gt;
&lt;p&gt;Thanks to my &lt;a href="https://www.lqdev.me/posts/rss-to-mastodon-posse-azure-logic-apps/"&gt;POSSE setup&lt;/a&gt;, I've been able to continue posting to my website and syndicating to Mastodon. Unfortunately, since the frontend wasn't working, I was unable to access my notifications. Because the mobile apps make use of the web frontend to log in, I couldn't use the mobile app either.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/mastodon-working-again-v-4-3-1</link>
      <guid>https://www.lqdev.me/notes/mastodon-working-again-v-4-3-1</guid>
      <pubDate>2024-11-18 17:34 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>sysadmin</category>
      <category>selfhost</category>
      <category>socialmedia</category>
      <category>social</category>
      <category>microblog</category>
      <category>indieweb</category>
      <category>posse</category>
    </item>
    <item>
      <title>Mastodon Server Cleanup</title>
      <description>&lt;![CDATA[&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;General commands for cleaning up resources on Mastodon servers&lt;/p&gt;
&lt;h2&gt;Setup&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Stop services&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo systemctl stop mastodon-sidekiq mastodon-streaming mastodon-web
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Restart postgresql&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo systemctl restart postgresql
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Log into mastodon user&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo su - mastodon
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Go to &lt;code&gt;live&lt;/code&gt; directory&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;cd /home/mastodon/live
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Check media usage&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;RAILS_ENV=production ./bin/tootctl media usage
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Remove media&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;RAILS_ENV=production ./bin/tootctl media remove
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Remove media headers&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;RAILS_ENV=production ./bin/tootctl media remove --prune-profiles
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Remove preview cards&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;RAILS_ENV=production ./bin/tootctl preview_cards remove
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Restart services&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo systemctl restart mastodon-sidekiq mastodon-streaming mastodon-web
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.joinmastodon.org/admin/tootctl/"&gt;Using the Admin CLI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/resources/wiki/mastodon-server-cleanup</link>
      <guid>https://www.lqdev.me/resources/wiki/mastodon-server-cleanup</guid>
      <pubDate>07/14/2024 03:24 -05:00</pubDate>
      <category>mastodon</category>
      <category>linux</category>
      <category>socialmedia</category>
      <category>sysadmin</category>
    </item>
    <item>
      <title>Mastodon Server Upgrades</title>
      <description>&lt;![CDATA[&lt;h2&gt;Overview&lt;/h2&gt;
&lt;p&gt;This provides a guide for upgrading specific versions.&lt;/p&gt;
&lt;h2&gt;Backup Instructions&lt;/h2&gt;
&lt;p&gt;These instructions backup the database and environment variables file. It does not back-up media files.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create new directory called &lt;em&gt;backups/&amp;lt;DATE&amp;gt;&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Copy &lt;em&gt;live/.env.production&lt;/em&gt; to &lt;em&gt;backups/&amp;lt;DATE&amp;gt;&lt;/em&gt; directory.&lt;/li&gt;
&lt;li&gt;Dump database &lt;code&gt;pg_dump -Fc mastodon_production -f /home/mastodon/backups/&amp;lt;DATE&amp;gt;/backup.dump&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Versions&lt;/h2&gt;
&lt;h3&gt;3.4.1&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file.&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.4.1 tag - &lt;code&gt;git checkout v3.4.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Migrate DB - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile Assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.4.2&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file.&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.4.2 tag - &lt;code&gt;git checkout v3.4.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Migrate DB - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile Assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.4.3&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.4.3 tag - &lt;code&gt;git checkout v3.4.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Migrate DB - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile Assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.4.4&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.4.4 tag - &lt;code&gt;git checkout v3.4.4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile Assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.4.5&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.4.5 tag - &lt;code&gt;git checkout v3.4.5&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.4.6&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.4.6 tag - &lt;code&gt;git checkout v3.4.6&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.4.7&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.4.7 tag - &lt;code&gt;git checkout v3.4.7&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.5.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Checkout 3.5.0 tag - &lt;code&gt;git checkout v3.5.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update available rbenv version - &lt;code&gt;git -C /home/mastodon/.rbenv/plugins/ruby-build pull&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby 3.0.3 - &lt;code&gt;RUBY_CONFIGURE_OPTS=--with-jemalloc rbenv install 3.0.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run predeployment DB migration - &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update service files - &lt;code&gt;cp /home/mastodon/live/dist/mastodon-*.service /etc/systemd/system/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Reload systemd daemon - &lt;code&gt;systemctl daemon-reload&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Clear cache - &lt;code&gt;RAILS_ENV=production bin/tootctl cache clear&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run postdeployment DB migration - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.5.1&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.5.1 tag - &lt;code&gt;git checkout v3.5.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.5.2&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.5.2 tag - &lt;code&gt;git checkout v3.5.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run predeployment DB migration - &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run postdeployment DB migration - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;3.5.3&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 3.5.3 tag - &lt;code&gt;git checkout v3.5.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.0.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Upgade NodeJS - &lt;code&gt;curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash - &amp;amp;&amp;amp; sudo apt-get install -y nodejs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby 3.0.4 - &lt;code&gt;RUBY_CONFIGURE_OPTS=--with-jemalloc rbenv install 3.0.4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.0.0 tag - &lt;code&gt;git checkout v4.0.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run predeployment DB migration - &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update service files - &lt;code&gt;cp /home/mastodon/live/dist/mastodon-*.service /etc/systemd/system/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Reload systemd daemon - &lt;code&gt;systemctl daemon-reload&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run postdeployment DB migration - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.0.2&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.0.2 tag - &lt;code&gt;git checkout v4.0.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;NOTE: Node 18 not supported yet. If you run into issues upgrading directly from 3.5.3, checkout v4.0.0 tag and the upgrade to v4.0.2&lt;/p&gt;
&lt;h3&gt;4.1.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.0 tag - &lt;code&gt;git checkout v4.1.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run DB migration - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.1&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.1 tag - &lt;code&gt;git checkout v4.1.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.2&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.3 tag - &lt;code&gt;git checkout v4.1.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update rbenv version - &lt;code&gt;git -C /home/mastodon/.rbenv/plugins/ruby-build pull&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby 3.0.6 - &lt;code&gt;RUBY_CONFIGURE_OPTS=--with-jemalloc rbenv install 3.0.6&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.3&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.3 tag - &lt;code&gt;git checkout v4.1.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;(Optional) Upgrade reverse proxy &lt;code&gt;Content-Security-Policy: default-src 'none'; form-action 'none'&lt;/code&gt; &amp;amp; &lt;code&gt;X-Content-Type-Options: nosniff&lt;/code&gt;. More info can be found in &lt;em&gt;dist/nginx.conf&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.4&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.4 tag - &lt;code&gt;git checkout v4.1.4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;(Optional) Upgrade reverse proxy &lt;code&gt;Content-Security-Policy: default-src 'none'; form-action 'none'&lt;/code&gt; &amp;amp;&lt;code&gt;X-Content-Type-Options: nosniff&lt;/code&gt;. More info can be found in &lt;em&gt;dist/nginx.conf&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.5&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.5 tag - &lt;code&gt;git checkout v4.1.5&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.6&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.6 tag - &lt;code&gt;git checkout v4.1.6&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.7&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.7 tag - &lt;code&gt;git checkout v4.1.7&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.8&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.8 tag - &lt;code&gt;git checkout v4.1.8&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.1.9&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.9 tag - &lt;code&gt;git checkout v4.1.9&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.0&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.1.9 tag - &lt;code&gt;git checkout v4.2.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update Streaming Server Service
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;sudo cp ~mastodon/live/dist/mastodon-streaming*.service /etc/systemd/system/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo systemctl daemon-reload&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Update rbenv version - &lt;code&gt;git -C /home/mastodon/.rbenv/plugins/ruby-build pull&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby 3.2.2 - &lt;code&gt;RUBY_CONFIGURE_OPTS=--with-jemalloc rbenv install 3.2.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run predeployment DB migration - &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;systemctl start mastodon-sidekiq mastodon-web mastodon-streaming&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run postdeployment DB migration - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.1&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.1 tag - &lt;code&gt;git checkout v4.2.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.2&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.2 tag - &lt;code&gt;git checkout v4.2.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.3&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.3 tag - &lt;code&gt;git checkout v4.2.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.4&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.4 tag - &lt;code&gt;git checkout v4.2.4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update rbenv version - &lt;code&gt;git -C /home/mastodon/.rbenv/plugins/ruby-build pull&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby 3.2.3 - &lt;code&gt;RUBY_CONFIGURE_OPTS=--with-jemalloc rbenv install 3.2.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.5&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.5 tag - &lt;code&gt;git checkout v4.2.5&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.6&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.6 tag - &lt;code&gt;git checkout v4.2.6&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.7&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.7 tag - &lt;code&gt;git checkout v4.2.7&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.8&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.8 tag - &lt;code&gt;git checkout v4.2.8&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.9&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.9 tag - &lt;code&gt;git checkout v4.2.9&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.10&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.10 tag - &lt;code&gt;git checkout v4.2.10&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.11&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.11 tag - &lt;code&gt;git checkout v4.2.11&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.12&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.12 tag - &lt;code&gt;git checkout v4.2.12&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.2.13&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.2.13 tag - &lt;code&gt;git checkout v4.2.13&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --frozen-lockfile&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;4.3.0 NOT WORKING&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Stop services - &lt;code&gt;systemctl stop mastodon-*.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Backup database and env file&lt;/li&gt;
&lt;li&gt;Fetch tags - &lt;code&gt;git fetch &amp;amp;&amp;amp; git fetch --tags&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checkout 4.3.0 tag - &lt;code&gt;git checkout v4.3.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install yarn4 - &lt;code&gt;corepack enable&lt;/code&gt; then, &lt;code&gt;corepack prepare&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install Ruby dependencies - &lt;code&gt;bundle install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JS dependencies - &lt;code&gt;yarn install --immutable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Generate secrets - &lt;code&gt;RAILS_ENV=production bin/rails db:encryption:init&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Copy secrets to &lt;code&gt;.env.production&lt;/code&gt; file&lt;/li&gt;
&lt;li&gt;Precompile assets - &lt;code&gt;RAILS_ENV=production bundle exec rails assets:precompile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run predeployment database migrations - &lt;code&gt;SKIP_POST_DEPLOYMENT_MIGRATIONS=true RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Restart services - &lt;code&gt;sudo systemctl restart mastodon-sidekiq mastodon-streaming mastodon-web&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run postdeployment database migrations - &lt;code&gt;RAILS_ENV=production bundle exec rails db:migrate&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Restart Services&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;sudo systemctl restart mastodon-sidekiq mastodon-streaming mastodon-web
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;https://docs.joinmastodon.org/admin/troubleshooting/index-corruption&lt;/li&gt;
&lt;li&gt;https://docs.joinmastodon.org/admin/install/&lt;/li&gt;
&lt;li&gt;https://docs.joinmastodon.org/admin/upgrading/&lt;/li&gt;
&lt;li&gt;https://docs.joinmastodon.org/admin/backups/&lt;/li&gt;
&lt;li&gt;https://docs.joinmastodon.org/admin/migrating/&lt;/li&gt;
&lt;li&gt;https://docs.joinmastodon.org/admin/tootctl/&lt;/li&gt;
&lt;/ul&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/resources/wiki/mastodon-server-upgrades</link>
      <guid>https://www.lqdev.me/resources/wiki/mastodon-server-upgrades</guid>
      <pubDate>07/14/2024 03:16 -05:00</pubDate>
      <category>selfhost</category>
      <category>socialmedia</category>
      <category>mastodon</category>
      <category>fediverse</category>
    </item>
    <item>
      <title>Just added Fediverse Open Graph meta tag to my website</title>
      <description>&lt;![CDATA[&lt;p&gt;I learned from &lt;a href="https://matthiasott.com/notes/highlighting-blogging-on-mastodon"&gt;Matthias Ott&lt;/a&gt; that Mastodon created a new Open Graph meta tag which displays a direct link to the website owner's Fediverse (Mastodon, Pixelfed, Threads, etc...) profile as part of the URL preview card on the Mastodon web and mobile apps.&lt;/p&gt;
&lt;p&gt;I just added support for it on my website.&lt;/p&gt;
&lt;p&gt;All I had to do was add the following tag to my site.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-html"&gt;&amp;lt;meta property=&amp;quot;fediverse:creator&amp;quot; content=&amp;quot;@lqdev@toot.lqdev.tech&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I'm not running the nightly version of Mastodon on my instance, but if anyone on an instance where this is already supported like mastodon.social can verify and let me know it's working, it's much appreciated.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/added-fediverse-og-creator-tag</link>
      <guid>https://www.lqdev.me/notes/added-fediverse-og-creator-tag</guid>
      <pubDate>2024-07-02 21:41 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>blogging</category>
      <category>indieweb</category>
      <category>blogs</category>
      <category>news</category>
      <category>journalism</category>
      <category>openweb</category>
      <category>distributedweb</category>
      <category>smallweb</category>
      <category>personalweb</category>
      <category>opengraph</category>
      <category>html</category>
    </item>
    <item>
      <title>Blogs + RSS - best decentralized social media we ever had</title>
      <description>&lt;![CDATA[[reply] &lt;blockquote class="blockquote"&gt;
&lt;p&gt;Bring back self-hosted blogs, reinstall a feed reader, make your feed icon prominent on your blog.  Blogs + Atom/RSS is the best decentralized social media system we've ever had!&lt;br /&gt;
&lt;br&gt;
And yes I am saying that as co-author of ActivityPub: self hosted blogs is the best decentralized social networking we've had&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;üíØ üíØ üíØ üíØ üíØ üíØ&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/responses/blogs-rss-decentralized-social-media-lemmer-webber</link>
      <guid>https://www.lqdev.me/responses/blogs-rss-decentralized-social-media-lemmer-webber</guid>
      <pubDate>2023-12-30 00:30 -05:00</pubDate>
      <category>rss</category>
      <category>blog</category>
      <category>decentralized</category>
      <category>socialmedia</category>
      <category>blogging</category>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>indieweb</category>
      <category>atom</category>
      <category>feed</category>
    </item>
    <item>
      <title>POSSE to Mastodon using RSS and Azure Logic Apps</title>
      <description>&lt;![CDATA[
## Introduction

[Over the past year, I've made this website the main place where I post content](/notes/weblogging-rewind-2023/). The easiest way to [subscribe to content on my website](/feed) is through the various RSS feeds. However, I have accounts on other platforms like X (formerly Twitter), Bluesky, and Mastodon where I'd still like to repost my content to. Since the [changes to the Twitter API](https://techcrunch.com/2023/03/29/twitter-announces-new-api-with-only-free-basic-and-enterprise-levels/), the only place I cross-post to is Mastodon. The main reason behind it is, as of now, it's one of the few platforms that allows me to automate post creation via its REST APIs without restrictions. A large part of that is I self-host my own Mastodon instance but I assume there aren't as many restrictions when using other instances like mastodon.social. The way I automate posting is by setting up workflows using Azure Logic Apps. These workflows subscribe to my various RSS feeds and whenever a new post is published, they make an HTTP request to my Mastodon instance to create a new post. I've been doing this for some time but never got around to documenting it. This blog post goes into more details about how to set up these workflows.  

## What is POSSE

[POSSE](https://indieweb.org/POSSE) is short for "Post on your Own Site Syndicate Elsewhere". It's one of the patterns adopted within IndiWeb communities and projects. The main idea is, your website or a website you own or have administrative rights to becomes the main platform where you publish your content. Effectively, it's the cannonical version of your content. Once your content is on your website, you can optionally choose to distribute it on other platforms. 

## What is RSS

[RSS](https://en.wikipedia.org/wiki/RSS) is short for Really Simple Syndication. Accorting to Wikipedia, this protocol "allows users and applications to access updates to websites in a standardized, computer-readable format". 

## What is Mastodon

[Mastodon](https://joinmastodon.org/) is an [open-source](https://github.com/mastodon/mastodon) decentralized microblogging platform built on the [ActivityPub](https://activitypub.rocks/) protocol and part of the larger collective of federated systems known as the [Fediverse](https://fediverse.info/). 

## What are Azure Logic Apps

If you've used workflow automation systems like [IFTTT](https://ifttt.com/), then you generally know what Azure Logic Apps are. 

A more formal definition from the Azure documentation - "Azure Logic Apps is a cloud platform where you can create and run automated workflows with little to no code. By using the visual designer and selecting from prebuilt operations, you can quickly build a workflow that integrates and manages your apps, data, services, and systems."

For more details, see the [Azure Logic Apps documentation](https://learn.microsoft.com/azure/logic-apps/logic-apps-overview).

## Prerequisites

Since you'll be creating Logic App Resources on Azure, you'll need an [Azure account](https://aka.ms/free).

## Create Consumption Azure Logic App Resource

There's various ways to create an Azure Logic App Resource but the easiest one for this relatively simple workflow is using the Azure Portal. For more details, see the [create a consumption logic app resource documentation](https://learn.microsoft.com/azure/logic-apps/quickstart-create-example-consumption-workflow#create-a-consumption-logic-app-resource).

For the most part you can leave the defaults as is. Since the intended use for this workflow is personal and I don't need enterprise features, I chose to create my logic app using the consumption plan. 

When prompted to choose **Plan Type**, select **Consumption**. 

## The Workflow

The workflow is relatively simple. Whenever a new item is posted to an RSS feed, make an HTTP POST request to the Mastodon API

```mermaid
flowchart TD
    A["RSS"] --&gt; B["HTTP (Mastodon API)"]
```

Once your Logic App resource deploys to Azure, create a new logic app using the Blank Template. For more details, see the [select a blank template documentation](https://learn.microsoft.com/azure/logic-apps/quickstart-create-example-consumption-workflow#select-the-blank-template).

This will launch you into the Logic app designer UI where you can begin to configure your workflow.

### RSS trigger

The first thing you'll want to do is set up the trigger that initiates the workflow. The trigger in this case will be new posts on an RSS feed.

In the Logic app designer, search for *RSS* and add it as a trigger.

Once the RSS trigger is added to your workflow, configure it as follows:

- **The RSS feed URL**: The feed you want want to get posts from. In this case, I'm using my blog posts [feed](/posts/feed.xml). 

    **TIP: The RSS feed can be ANY feed. So if you wanted to subscribe and repost items from your favorite blog or website, you can as well. Just note though that if you don't own the content it might not be something the author wants you doing and for websites that update multiple times a day, it might produce a lot of noise in your feed. Other than that though, subscribe and post away!**

- **How often do you want to check for items?**: The frequency at which you want to poll the RSS feed and check for new posts. In my case, I don't post very often but I do want my posts to be published on Mastodon within an hour of publishing. Therefore, I chose 1 hour as the update frequency. 

### HTTP action

Now that your trigger is configured, it's time to do someting with the latest posts. In this case, since I want to create a new post on Mastodon, I can do so via their REST API. 

#### Get Mastodon credentials

One thing that you'll need to publish posts to Mastodon is an application token. The easiest way to get one is using the Web UI. 

To get your app credentials through the web UI:

1. In the Mastodon Web UI, select **Preferences**.
1. In the preferences page, select **Development**.
1. In the development preferences tab, select **New application**.
1. In the new application page:
  - Provide a name for your application
  - Choose the **write:statuses** scope checkbox. For details on required scopes to post statuses, see the [Post a new status REST API documentation](https://docs.joinmastodon.org/methods/statuses/#create)
  - Select **Submit**

If successful, this will create credentials and a token you can use to send authenticated requests to the Mastodon API.

#### Configure HTTP action

Now that you have your credentials, you can configure your HTTP action in the Logic Apps workflow.

In the Logic App designer:

1. Select **+ New Step**.
1. Search for *HTTP* and add it as an action. 
1. Once the HTTP action is added, configure it as follows:

- **Method**: The HTTP Method. To create statuses, choose **POST** from the dropdown.
- **URI**: The endpoint to make the requests to. For mastodon, it's `https://&lt;HOST&gt;/api/v1/statuses`. Make sure to replace `&lt;HOST&gt;` with your Mastodon instance. In my case, it's `toot.lqdev.tech` since that's where I host my mastodon instance. 
- **Headers**: HTTP Headers to use. In this case, set the following:

    | Key | Value |
    | --- | --- |
    | Content-Type | application/x-www-form-urlencoded |

- **Queries**: URL Query Parameters to add to the request. This is where you'll set your access token.

    | Key | Value |
    | --- | --- |
    | access_token | `[YOUR-ACCESS-TOKEN]` |

    Make sure to replace `[YOUR-ACCESS-TOKEN]` with the token credential generated in the Mastodon Web UI.
- **Body**: The content to be published in your Mastodon post. This is entirely up to you though at minumum, you'll add the following to the text feed. `status=&lt;YOUR-CONTENT&gt;`. `&lt;YOUR-CONTENT&gt;` is what will be displayed in the Mastodon post. 

    One of the nice things about Azure Logic Apps is, properties from previous steps are available to you in subsequent steps. Since our trigger is an RSS feed, we can get access to the feed and item properties of our feed in the HTTP action. If all you wanted was to post the tile and URL, you can do that using the **Feed title** and **Primary Feed Link** properties. For more details, see the [RSS connector documentation](https://learn.microsoft.com/connectors/rss/). 

## Save and run

That's it! Now you just need to select **Save** in the Logic app designer page. 

Once it's saved, click **Run trigger** which will kick off your trigger. If you have anything recent to publish and everything is configured correctly, it should show up in your Mastodon feed.

## Conclusion

By publishing content on your own website first, you're in full control of your content. Regardless of which platforms come and go, you won't have to adjust to those changes because your content is not locked in to those platforms. However, that doesn't mean you can't also publish your content there. Using protocols like RSS make it easy to subscribe to updates on your website. Using REST APIs provided by the respective platforms, you can automate publishing these updates. To further automate and simplify this process, you can use services like Azure Logic Apps to make publishing to all places easy. ]]&gt;</description>
      <link>https://www.lqdev.me/posts/rss-to-mastodon-posse-azure-logic-apps</link>
      <guid>https://www.lqdev.me/posts/rss-to-mastodon-posse-azure-logic-apps</guid>
      <pubDate>2023-12-24 16:40 -05:00</pubDate>
      <category>azure</category>
      <category>mastodon</category>
      <category>indieweb</category>
      <category>logicapps</category>
      <category>fediverse</category>
      <category>posse</category>
      <category>internet</category>
      <category>web</category>
      <category>blogging</category>
      <category>blog</category>
      <category>automation</category>
      <category>programming</category>
      <category>rss</category>
    </item>
    <item>
      <title>Have you tried turning it off and on again? - Mastodon edition</title>
      <description>&lt;![CDATA[&lt;p&gt;My Mastodon instance crashed this morning due to a combination of the usual running out of space issue and me being too lazy to remember to remove federated media regularly from my instance BEFORE it crashes. Now I know you can schedule this with CRON jobs but for some reason I've never been able to configure that correctly nor have I been motivated to get to the bottom of it.&lt;/p&gt;
&lt;p&gt;Anyway, I went through the usual dance of starting up my services and &lt;a href="https://www.lqdev.me/resources/wiki/mastodon-server-cleanup"&gt;using the CLI to clean up my instance&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, none of my commands worked because it couldn't connect to the database. A quick look at the status showed the database and all my services were running which led me to go down a troubleshooting rabbit hole with no end in sight and little guidance as to what might be the problem.&lt;/p&gt;
&lt;p&gt;Eventually, before gave up I thought, &amp;quot;my instance is down anyway, couldn't I just turn it off and on again?&amp;quot; I did exactly that and when it restarted I was able to continue with my cleanup tasks as normal.&lt;/p&gt;
&lt;p&gt;So as a reminder, if all else fails, try turning it off and on again.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/turning-off-on-mastodon-edition</link>
      <guid>https://www.lqdev.me/notes/turning-off-on-mastodon-edition</guid>
      <pubDate>2023-12-15 15:53 -05:00</pubDate>
      <category>mastodon</category>
      <category>sysadmin</category>
      <category>selfhost</category>
      <category>fediverse</category>
    </item>
    <item>
      <title>Engage a Wider Audience With ActivityPub on WordPress.com</title>
      <description>&lt;![CDATA[[reshare] &lt;blockquote class="blockquote"&gt;
&lt;p&gt;Exciting times are here for all WordPress.com users! The revolutionary ActivityPub feature is now available across all WordPress.com plans, unlocking a world of engagement and interaction for your blog. Your blogs can now be part of the rapidly expanding fediverse, which enables you to connect with a broader audience and attract more followers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I can't believe I missed these news but so exciting!&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/responses/activitypub-plugin-available-hosted-wordpress</link>
      <guid>https://www.lqdev.me/responses/activitypub-plugin-available-hosted-wordpress</guid>
      <pubDate>2023-10-14 20:57 -05:00</pubDate>
      <category>activitypub</category>
      <category>mastodon</category>
      <category>wordpress</category>
      <category>blogging</category>
    </item>
    <item>
      <title>Upgraded to Mastodon 4.2.0</title>
      <description>&lt;![CDATA[&lt;p&gt;Good thing I'd upgraded to 4.1.7 just a few weeks ago, so getting to 4.2.0 was relatively easy. The &lt;a href="https://www.lqdev.me/resources/wiki/mastodon-server-upgrades/"&gt;wiki&lt;/a&gt; where I'm tracking updates makes it easy to quickly remember the general process. I haven't tried all of the new features, but it's nice to see there's a new onboarding flow to the Web UI which should make it easier to get started for new folks.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/upgraded-mastodon-4-2-0</link>
      <guid>https://www.lqdev.me/notes/upgraded-mastodon-4-2-0</guid>
      <pubDate>2023-09-24 20:31 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>sysadmin</category>
      <category>socialmedia</category>
      <category>decentralization</category>
      <category>internet</category>
      <category>web</category>
    </item>
    <item>
      <title>Mastodon 4.1.7 feels snappy</title>
      <description>&lt;![CDATA[&lt;p&gt;I didn't inspect the changelog between 4.1.0 and 4.1.7 in great detail, but the latest stable version feels snappy.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/mastodon-upgrade-4-1-7</link>
      <guid>https://www.lqdev.me/notes/mastodon-upgrade-4-1-7</guid>
      <pubDate>2023-09-09 16:44 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
    </item>
    <item>
      <title>Downsides of untitled RSS items</title>
      <description>&lt;![CDATA[&lt;p&gt;Although titles are optional for RSS feed items and it's a common practice for microblog platforms like Mastodon to exclude them, it unfortunately means some clients like Elfeed don't know how to render those posts.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://cdn.lqdev.tech/files/images/elfeed-mastodon-rss.png" class="img-fluid" alt="Screenshot of elfeed displaying RSS items from Mastodon" /&gt;&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/mastodon-untitled-rss-items</link>
      <guid>https://www.lqdev.me/notes/mastodon-untitled-rss-items</guid>
      <pubDate>2023-02-23 21:11 -05:00</pubDate>
      <category>mastodon</category>
      <category>rss</category>
      <category>emacs</category>
    </item>
    <item>
      <title>Mastodon 4.1.0 released</title>
      <description>&lt;![CDATA[&lt;p&gt;Mastodon &lt;a href="https://github.com/mastodon/mastodon/releases/tag/v4.1.0"&gt;v4.1.0&lt;/a&gt; was released yesterday. This was a highly anticipated release for me since it introduced the option to &lt;a href="https://github.com/mastodon/mastodon/pull/22149"&gt;remove old cached profile media&lt;/a&gt; which was taking up a significant portion of my disk space.&lt;/p&gt;
&lt;p&gt;After upgrading, I was able to cut my used disk space in half.&lt;/p&gt;
&lt;p&gt;If you're running your own instance or have the ability to contact your instance admin, I can't recommend upgrading to this version enough.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/mastodon-4-1-0-release</link>
      <guid>https://www.lqdev.me/notes/mastodon-4-1-0-release</guid>
      <pubDate>2023-02-11 10:09 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
    </item>
    <item>
      <title>Removing avatars and headers in Mastodon</title>
      <description>&lt;![CDATA[&lt;p&gt;The next version of Mastodon can't come soon enough.&lt;/p&gt;
&lt;p&gt;About 20GB of disk space on my instance are being taken up by media from remote users. And this is for a single user instance! I can't imagine how it must be on other instances with multiple accounts.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://cdn.lqdev.tech/files/images/mastodon-media-usage.png" class="img-fluid" alt="Command line displaying disk space used by Mastodon for media" /&gt;&lt;/p&gt;
&lt;p&gt;A recent &lt;a href="https://github.com/mastodon/mastodon/pull/22149"&gt;PR&lt;/a&gt; should make things much better though by allowing you to remove these files.&lt;/p&gt;
&lt;p&gt;The only thing you need to do is pass the &lt;code&gt;--prune-profiles&lt;/code&gt; flag to the &lt;code&gt;media remove&lt;/code&gt; CLI command.&lt;/p&gt;
&lt;p&gt;The PR is already merged so hopefully that means it's coming the next release.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/mastodon-prune-profiles-media-vnext</link>
      <guid>https://www.lqdev.me/notes/mastodon-prune-profiles-media-vnext</guid>
      <pubDate>2022-12-26 17:00 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>selfhost</category>
      <category>sysadmin</category>
    </item>
    <item>
      <title>Upgraded to Mastodon v4.0.2</title>
      <description>&lt;![CDATA[&lt;p&gt;Upgrading my server to 4.0.2 wasn't bad, especially considering I was coming from a 3.x version. Also posting this to make sure that there have been no changes to the API and my website can still post to Mastodon on my behalf.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/upgraded-mastodon-v4-0-2</link>
      <guid>https://www.lqdev.me/notes/upgraded-mastodon-v4-0-2</guid>
      <pubDate>2022-12-26 16:03 -05:00</pubDate>
      <category>mastodon</category>
      <category>selfhost</category>
      <category>fediverse</category>
      <category>upgade</category>
      <category>sysadmin</category>
    </item>
    <item>
      <title>The Fediverse beyond Mastodon</title>
      <description>&lt;![CDATA[&lt;p&gt;It's been great to see many old and new friends joining Mastodon and considering alternatives to online communities over the past few weeks. Selfishly my feed had been quiet since I started using it and self-hosting back in 2018 so it's nice to see more activity. As folks have started to settle in and get a better understanding of Mastodon, I'd like to point out that Mastodon is only one of many apps and services on the &lt;a href="https://fediverse.party/en/fediverse/"&gt;Fediverse&lt;/a&gt;. Now I won't try to explain the Fediverse but in general, it's the collection of applications and services that interoperate in a federated manner, Mastodon being one of them. If in general you like Mastodon and are looking for alternatives to services like Instagram, YouTube, SoundCloud, the Fediverse has a few options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instagram ‚û°Ô∏è &lt;a href="https://pixelfed.org/"&gt;Pixelfed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;YouTube ‚û°Ô∏è &lt;a href="https://joinpeertube.org/"&gt;PeerTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;SoundCloud ‚û°Ô∏è &lt;a href="https://funkwhale.audio/"&gt;Funkwhale&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Twitch ‚û°Ô∏è &lt;a href="https://owncast.online/"&gt;Owncast&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can create an account for each of these services using different instances, just like Mastodon. You also have the option of self-hosting which I find amazing. However, because for the most part these services implement the ActivityPub protocol, it means federation extends beyond Mastodon. You can follow people on PixelFed, PeerTube, and many of these other services using your Mastodon account which means you don't have to create accounts for those services just to follow people. While I don't have experience with all of these services, I recommend checking them out. I especially like what Pixelfed, PeerTube and Owncast are doing but those are the main ones I have experience with.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/fediverse-beyond-mastodon</link>
      <guid>https://www.lqdev.me/notes/fediverse-beyond-mastodon</guid>
      <pubDate>2022-11-20 19:28 -05:00</pubDate>
      <category>fediverse</category>
      <category>mastodon</category>
      <category>decentralization</category>
      <category>owncast</category>
      <category>peertube</category>
      <category>pixelfed</category>
      <category>funkwhale</category>
      <category>alternatives</category>
    </item>
    <item>
      <title>Mastodon POSSE enabled</title>
      <description>&lt;![CDATA[&lt;p&gt;Hello Mastodon from lqdev.me. Got &lt;a href="https://indieweb.org/POSSE"&gt;POSSE (Publish (on your) Own Site, Syndicate Elsewhere)&lt;/a&gt; working for Mastodon! I already had an Azure Logic App which took the latest post from my RSS feed and published to Twitter. Now it's also enabled for Mastodon. Might do a writeup later in the blog on how to do it.&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/mastodon-posse-enabled</link>
      <guid>https://www.lqdev.me/notes/mastodon-posse-enabled</guid>
      <pubDate>04/27/2022 21:29 -05:00</pubDate>
      <category>mastodon</category>
      <category>fediverse</category>
      <category>posse</category>
      <category>indieweb</category>
    </item>
    <item>
      <title>Welcome to the Fediverse</title>
      <description>&lt;![CDATA[&lt;p&gt;In light of recent developments on Twitter, I see more people looking for alternative platforms. Personally, I don't think anything beats the level of customization and control you get from using your own website and RSS for sharing ideas and publishing content. However, it's great to see so many new friends in the Fediverse on platforms like &lt;a href="https://joinmastodon.org/"&gt;Mastodon&lt;/a&gt;. I won't go into what the Fediverse is but you can check out the &lt;a href="https://joinfediverse.wiki/What_is_the_Fediverse%3F"&gt;Fediverse wiki&lt;/a&gt; for more info. In many ways the Fediverse will feel familiar, yet foreign. Many people have shared tips on getting started, but I'll share some of the ones I've personally used to organically curate my feed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use hashtags. Similar to Twitter, hashtags are a good way of finding people and content related to the topic of interest.&lt;/li&gt;
&lt;li&gt;Follow &lt;a href="https://mstdn.social/@feditips"&gt;feditips&lt;/a&gt; and &lt;a href="https://mastodon.online/@FediFollows"&gt;FediFollows&lt;/a&gt;. As the names suggest, they provide good tips and suggest interesting accounts to follow in the Fediverse.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As an alternative if you're not ready to create an account, you can use RSS. I'm a big &lt;a href="https://www.lqdev.me/posts/rediscovering-rss-user-freedom/"&gt;fan of RSS&lt;/a&gt;. Appending &lt;code&gt;.rss&lt;/code&gt; to any account on platforms like Mastodon (for example &lt;a href="https://mastodon.online/@FediFollows.rss"&gt;https://mastodon.online/@FediFollows.rss&lt;/a&gt;) provides you with the RSS feed of an account's posts letting you subscribe to their content through your favorite RSS feed reader.&lt;/p&gt;
&lt;p&gt;Feel free to say hi at &lt;a href="https://toot.lqdev.tech/@lqdev"&gt;toot.lqdev.tech/@lqdev&lt;/a&gt;. See you in the Fediverse!&lt;/p&gt;
]]&gt;</description>
      <link>https://www.lqdev.me/notes/welcome-to-fediverse-tips</link>
      <guid>https://www.lqdev.me/notes/welcome-to-fediverse-tips</guid>
      <pubDate>04/27/2022 13:04 -05:00</pubDate>
      <category>fediverse</category>
      <category>mastodon</category>
      <category>twitter</category>
      <category>socialmedia</category>
      <category>decentralization</category>
    </item>
  </channel>
</rss>