<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/text/assets/text-only.css"><meta name="description" content="Text-only accessible version of Luis Quintanilla&#39;s website"><meta name="robots" content="noindex, nofollow"><title>Have you tried turning it off and on again? - Mastodon edition - Text-Only Site</title></head><body><a href="#main-content" class="skip-link">Skip to main content</a><header role="banner"><h1><a href="/text/">Luis Quintanilla</a></h1><p>Text-Only Accessible Website</p></header><nav role="navigation" aria-label="Main navigation"><ul><li><a href="/text/">Home</a></li><li><a href="/text/about/">About</a></li><li><a href="/text/contact/">Contact</a></li><li><a href="/text/content/">All Content</a></li><li><a href="/text/feeds/">RSS Feeds</a></li><li><a href="/text/help/">Help</a></li></ul></nav><main role="main" id="main-content"><div><h1>Have you tried turning it off and on again? - Mastodon edition</h1><div class="content-meta"><div class="content-type">notes</div><time datetime="2023-12-15">December 15, 2023</time><p>Tags: mastodon, sysadmin, selfhost, fediverse</p></div><p><a href="/text/">← Home</a> | <a href="/text/content/notes/">← All notes</a> | <a href="https://www.lqdev.me/notes/turning-off-on-mastodon-edition">View Full Version</a></p><div class="content"><p>My Mastodon instance crashed this morning due to a combination of the usual running out of space issue and me being too lazy to remember to remove federated media regularly from my instance BEFORE it crashes. Now I know you can schedule this with CRON jobs but for some reason I've never been able to configure that correctly nor have I been motivated to get to the bottom of it.</p>
<p>Anyway, I went through the usual dance of starting up my services and <a href="/resources/wiki/mastodon-server-cleanup">using the CLI to clean up my instance</a>.</p>
<p>However, none of my commands worked because it couldn't connect to the database. A quick look at the status showed the database and all my services were running which led me to go down a troubleshooting rabbit hole with no end in sight and little guidance as to what might be the problem.</p>
<p>Eventually, before gave up I thought, &quot;my instance is down anyway, couldn't I just turn it off and on again?&quot; I did exactly that and when it restarted I was able to continue with my cleanup tasks as normal.</p>
<p>So as a reminder, if all else fails, try turning it off and on again.</p>
</div></div></main><footer role="contentinfo"><hr><p><a href="/">Full Site</a> | <a href="/text/accessibility/">Accessibility</a></p></footer></body></html>