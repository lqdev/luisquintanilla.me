<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/text/assets/text-only.css"><meta name="description" content="Text-only accessible version of Luis Quintanilla&#39;s website"><meta name="robots" content="noindex, nofollow"><title>Use Azure CDN from Verizon Premium for Regex URL redirects - Text-Only Site</title></head><body><a href="#main-content" class="skip-link">Skip to main content</a><header role="banner"><h1><a href="/text/">Luis Quintanilla</a></h1><p>Text-Only Accessible Website</p></header><nav role="navigation" aria-label="Main navigation"><ul><li><a href="/text/">Home</a></li><li><a href="/text/about/">About</a></li><li><a href="/text/contact/">Contact</a></li><li><a href="/text/content/">All Content</a></li><li><a href="/text/feeds/">RSS Feeds</a></li><li><a href="/text/help/">Help</a></li></ul></nav><main role="main" id="main-content"><div><h1>Use Azure CDN from Verizon Premium for Regex URL redirects</h1><div class="content-meta"><div class="content-type">notes</div><time datetime="2022-12-21">December 21, 2022</time><p>Tags: azure, azurecdn, redirect, indieweb, selfhosting</p></div><p><a href="/text/">← Home</a> | <a href="/text/content/notes/">← All notes</a> | <a href="https://www.lqdev.me/notes/azure-cdn-regex-url-redirect">View Full Version</a></p><div class="content"><p>Well, that's time that I'm never going to get back.</p>
<p>Imagine that you wanted to redirect a URL,</p>
<p>From: <code>https://mydomain/github/repo-name</code><br />
To: <code>https://github.com/username/repo-name</code></p>
<p>You could use regular expressions to parse out the <code>repo-name</code> part of the URL path from the source URL to the destination URL. This is what it might look like using something like NGINX.</p>
<pre><code class="language-bash">location ~ ^/github/(.*) {
     return 307 https://github.com/yourGHusername/$1;
}
</code></pre>
<p>Unless I wasn't looking at the right documentation, it's not obvious that the rules engine for most Azure CDN plans don't support this feature, except for the <a href="https://learn.microsoft.com/azure/cdn/cdn-verizon-premium-rules-engine-reference-features">Verizon Premium</a>. While the standard rules engine supports wildcards for source URLs, lack of regular expresssions support means there's no way to parameterize the values of the destination URL. If this is something  you need, make sure to use the Verizon Premium plan.</p>
</div></div></main><footer role="contentinfo"><hr><p><a href="/">Full Site</a> | <a href="/text/accessibility/">Accessibility</a></p></footer></body></html>