<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/text/assets/text-only.css"><meta name="description" content="Text-only accessible version of Luis Quintanilla&#39;s website"><meta name="robots" content="noindex, nofollow"><title>NixOS Configuration - Text-Only Site</title></head><body><a href="#main-content" class="skip-link">Skip to main content</a><header role="banner"><h1><a href="/text/">Luis Quintanilla</a></h1><p>Text-Only Accessible Website</p></header><nav role="navigation" aria-label="Main navigation"><ul><li><a href="/text/">Home</a></li><li><a href="/text/about/">About</a></li><li><a href="/text/contact/">Contact</a></li><li><a href="/text/content/">All Content</a></li><li><a href="/text/feeds/">RSS Feeds</a></li><li><a href="/text/help/">Help</a></li></ul></nav><main role="main" id="main-content"><div><h1>NixOS Configuration</h1><div class="content-meta"><div class="content-type">snippets</div><time datetime="2023-08-22">August 22, 2023</time><p>Tags: nix, linux, configuration, nixos, os</p></div><p><a href="/text/">← Home</a> | <a href="/text/content/snippets/">← All snippets</a> | <a href="https://www.lqdev.me/resources/snippets/nixos-configuration">View Full Version</a></p><div class="content"><h2>Description</h2>
<p>This is my NixOS Configuration file</p>
<h2>Usage</h2>
<ol>
<li><p>Update configuration file</p>
</li>
<li><p>Run the following command to apply changes</p>
<pre><code class="language-bash">sudo nixos-rebuild switch
</code></pre>
</li>
</ol>
<h2>Snippet</h2>
<pre><code class="language-nix"># Edit this configuration file to define what should be installed on
# your system.  Help is available in the configuration.nix(5) man page
# and in the NixOS manual (accessible by running ‘nixos-help’).
<p>{ config, pkgs, ... }:</p>
<p>{
imports =
[ # Include the results of the hardware scan.
./hardware-configuration.nix
];</p>
<h1>Bootloader.</h1>
<p>boot.loader.systemd-boot.enable = true;
boot.loader.efi.canTouchEfiVariables = true;</p>
<p>networking.hostName = &quot;nixos&quot;; # Define your hostname.</p>
<h1>networking.wireless.enable = true;  # Enables wireless support via wpa_supplicant.</h1>
<h1>Configure network proxy if necessary</h1>
<h1>networking.proxy.default = &quot;http://user:password@proxy:port/&quot;;</h1>
<h1>networking.proxy.noProxy = &quot;127.0.0.1,localhost,internal.domain&quot;;</h1>
<h1>Enable networking</h1>
<p>networking.networkmanager.enable = true;</p>
<h1>Set your time zone.</h1>
<p>time.timeZone = &quot;America/New_York&quot;;</p>
<h1>Select internationalisation properties.</h1>
<p>i18n.defaultLocale = &quot;en_US.UTF-8&quot;;</p>
<p>i18n.extraLocaleSettings = {
LC_ADDRESS = &quot;en_US.UTF-8&quot;;
LC_IDENTIFICATION = &quot;en_US.UTF-8&quot;;
LC_MEASUREMENT = &quot;en_US.UTF-8&quot;;
LC_MONETARY = &quot;en_US.UTF-8&quot;;
LC_NAME = &quot;en_US.UTF-8&quot;;
LC_NUMERIC = &quot;en_US.UTF-8&quot;;
LC_PAPER = &quot;en_US.UTF-8&quot;;
LC_TELEPHONE = &quot;en_US.UTF-8&quot;;
LC_TIME = &quot;en_US.UTF-8&quot;;
};</p>
<h1>Enable the X11 windowing system.</h1>
<h1>services.xserver.enable = true;</h1>
<p>services.xserver = {
enable = true;</p>
<pre><code>desktopManager = {
  xterm.enable = false;
};

displayManager = {
  defaultSession = &amp;quot;none+i3&amp;quot;;
};

windowManager.i3 = {
   enable = true;
   extraPackages = with pkgs; [
     dmenu
 i3status
     j4-dmenu-desktop
 i3lock	
   ];
};
</code></pre>
<p>};</p>
<h1>Enable the XFCE Desktop Environment.</h1>
<h1>services.xserver.displayManager.lightdm.enable = true;</h1>
<h1>services.xserver.desktopManager.xfce.enable = true;</h1>
<h1>Configure keymap in X11</h1>
<p>services.xserver = {
layout = &quot;us&quot;;
xkbVariant = &quot;&quot;;
};</p>
<h1>Enable CUPS to print documents.</h1>
<p>services.printing.enable = true;</p>
<h1>Enable sound with pipewire.</h1>
<p>sound.enable = true;
hardware.pulseaudio.enable = false;
security.rtkit.enable = true;
services.pipewire = {
enable = true;
alsa.enable = true;
alsa.support32Bit = true;
pulse.enable = true;
# If you want to use JACK applications, uncomment this
#jack.enable = true;</p>
<pre><code># use the example session manager (no others are packaged yet so this is enabled by default,
# no need to redefine it in your config for now)
#media-session.enable = true;
</code></pre>
<p>};</p>
<h1>Enable touchpad support (enabled default in most desktopManager).</h1>
<h1>services.xserver.libinput.enable = true;</h1>
<h1>Enable gvfs</h1>
<p>services.gvfs.enable = true;</p>
<h1>Define a user account. Don't forget to set a password with ‘passwd’.</h1>
<p>users.users.lqdev = {
isNormalUser = true;
description = &quot;lqdev&quot;;
extraGroups = [ &quot;networkmanager&quot; &quot;wheel&quot; &quot;docker&quot;];
packages = with pkgs; [
firefox
thunderbird
vscode
element-desktop
];
};</p>
<p>#Enable docker
virtualisation.docker.enable = true;</p>
<h1>Allow unfree packages</h1>
<p>nixpkgs.config.allowUnfree = true;</p>
<h1>List packages installed in system profile. To search, run:</h1>
<h1>$ nix search wget</h1>
<p>environment.systemPackages = with pkgs; [</p>
<h1>vim # Do not forget to add an editor to edit configuration.nix! The Nano editor is also installed by default.</h1>
<h1>Utilities</h1>
<pre><code>wget
emacs
alacritty
mc
du-dust
htop
feh
duf
shutter
gparted
keepassxc
bitwarden
git
yt-dlp
streamlink
ffmpeg
gnome.seahorse
xfce.thunar-volman
xfce.xfconf
</code></pre>
<h1>Media</h1>
<pre><code>mpv
vlc
</code></pre>
<h1>Dotnet</h1>
<pre><code>(with dotnetCorePackages; combinePackages [
  dotnet-sdk
  dotnet-sdk_7
])
</code></pre>
<h1>Development</h1>
<pre><code>docker
cargo
rustc
</code></pre>
<h1>Office</h1>
<pre><code>libreoffice
</code></pre>
<p>];</p>
<h1>Some programs need SUID wrappers, can be configured further or are</h1>
<h1>started in user sessions.</h1>
<h1>programs.mtr.enable = true;</h1>
<h1>programs.gnupg.agent = {</h1>
<h1>enable = true;</h1>
<h1>enableSSHSupport = true;</h1>
<h1>};</h1>
<h1>Bash Configuration</h1>
<p>programs.bash = {
shellAliases = {
emacs=&quot;emacs -nw&quot;;
};
};</p>
<h1>Thunar</h1>
<p>programs.thunar.enable = true;</p>
<h1>List services that you want to enable:</h1>
<h1>Enable the OpenSSH daemon.</h1>
<h1>services.openssh.enable = true;</h1>
<h1>Open ports in the firewall.</h1>
<h1>networking.firewall.allowedTCPPorts = [ ... ];</h1>
<h1>networking.firewall.allowedUDPPorts = [ ... ];</h1>
<h1>Or disable the firewall altogether.</h1>
<h1>networking.firewall.enable = false;</h1>
<h1>This value determines the NixOS release from which the default</h1>
<h1>settings for stateful data, like file locations and database versions</h1>
<h1>on your system were taken. It‘s perfectly fine and recommended to leave</h1>
<h1>this value at the release version of the first install of this system.</h1>
<h1>Before changing this value read the documentation for this option</h1>
<h1>(e.g. man configuration.nix or on https://nixos.org/nixos/options.html).</h1>
<p>system.stateVersion = &quot;23.05&quot;; # Did you read the comment?</p>
<p>}
</code></pre></p>
</div></div></main><footer role="contentinfo"><hr><p><a href="/">Full Site</a> | <a href="/text/accessibility/">Accessibility</a></p></footer></body></html>